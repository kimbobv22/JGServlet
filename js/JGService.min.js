(function(b){if($===undefined){console.error("can't not initialize JGService, JQuery not found");return;}if(JGDataset===undefined){console.error("can't not initialize JGService, JGDataset not found");return;}function a(d,e){if(!isNull(e)){var f=$.extend(true,e);for(var g in f){var h=new RegExp("\\{"+g+"\\}");if(h.test(d)){d=d.replace(h,e[g]);delete e[g];}}}return d;}var c=b.JGService={_requestURLs:{},requestURL:function(f,e){if($.type(f)==="string"&&$.type(e)==="string"){this._requestURLs[f]=e;return this._requestURLs[f];}var d=a(this._requestURLs[f],e);if(!isNull(e)){d+=(d.indexOf("?")<0?"?":"&")+$.param(e);}return d;},ajax:function(i,f,h){var e,g;if(h===undefined){e={};g=f;}else{e=f;g=h;}var d=a(this.requestURL(i,e),g.data);g=$.extend($.extend({type:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8"},g),{url:d});$.ajax(g);},postService:function(f,d){var e=$("<form />");e.hide();e.attr("method","POST");e.attr("action",a(this.requestURL(f),d));$.each(d,function(h,g){$("<input type='hidden' />").attr("name",h).attr("value",g).appendTo(e);});$(document.body).append(e);e.submit();e.remove();},forwardService:function(e,d){b.location.href=this.requestURL(e,d);},getFile:function(d,e){e=$.extend({multiple:false,accept:"*/*"},e);$("input[type='file'][jgmodule-common-file-input]").remove();fileInput_=$("<input type='file' jgmodule-common-file-input style='display:none;'/>");$(document.body).append(fileInput_);fileInput_.attr("multiple",e.multiple);fileInput_.attr("accept",e.accept);fileInput_.change(function(){d(this);});fileInput_.click();return fileInput_;},sendMultipart:function(e,l,q,h){q=$.extend({async:false},q);l=$.extend({},l);var j=a(this.requestURL(e),l);var f=new FormData();for(var n in l){f.append(n,l[n]);}if(isNull(h)){var i=this;this.getFile(function(r){i.sendMultipart(e,l,q,r);},q);return;}else{var d=0;if(h.length===undefined){h=$(h);}var m=h.length;for(var k=0;k<m;++k){$.each(h[k].files,function(s,r){f.append("file-"+d,r);++d;});}}var g=q.success;var p=q.fail;var o=q.error;q=$.extend(q,{type:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",url:j,data:f,cache:false,contentType:false,processData:false,async:true,success:function(r){if(r.result===0){if(!isNull(g)){g(r.message);}}else{if(!isNull(p)){p(r.result,r.message);}}},error:function(s,t,r){if(!isNull(o)){o(reponse_,t,r);}}});$.ajax(q);},cookie:function(j,e,i){if(e===undefined){j=j+"=";var d=document.cookie;var h=d.indexOf(j);if(h!==-1){h+=j.length;var k=d.indexOf(";",h);if(k===-1){k=d.length;}return unescape(d.substring(h,k));}return null;}if(e===null){this.removeCookie(j);return;}var g=j+"="+escape(e)+";path=/;";var f=new Date();if(typeof i==="string"){f=new Date(i);}else{if(typeof i==="number"){f.setDate(f.getDate()+f);}}g+="expires="+f.toGMTString()+";";document.cookie=g;},removeCookie:function(d){document.cookie=(d+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/;");},_mobileCheckMetaData:{android:function(){return navigator.userAgent.match(/Android/i);},blackberry:function(){return navigator.userAgent.match(/BlackBerry/i);},ios:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i);},opera:function(){return navigator.userAgent.match(/Opera Mini/i);},windows:function(){return navigator.userAgent.match(/IEMobile/i);},any:function(){return(this._mobileCheckMetaData.android()||this._mobileCheckMetaData.blackberry()||this._mobileCheckMetaData.ios()||this._mobileCheckMetaData.opera()||this._mobileCheckMetaData.windows());}},checkMobile:function(d){return this._mobileCheckMetaData[NVL(platform_,"any").toLowerCase()];}};return c;})(window);