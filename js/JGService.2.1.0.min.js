(function(b,c){if(c===undefined){console.error("can't not initialize JGService, JQuery not found");return;}if(JGDataset===undefined){console.error("can't not initialize JGService, JGDataset not found");return;}function a(e,f){if(!isNull(f)){var g=c.extend(true,f);for(var h in g){var i=new RegExp("\\{"+h+"\\}");if(i.test(e)){e=e.replace(i,f[h]);delete f[h];}}}return e;}var d=b.JGService={_requestURLs:{},requestURL:function(g,f){if(c.type(g)==="string"&&c.type(f)==="string"){this._requestURLs[g]=f;return this._requestURLs[g];}var e=a(this._requestURLs[g],f);if(!isNull(f)){e+=(e.indexOf("?")<0?"?":"&")+c.param(f);}return e;},ajax:function(g,f){var e=a(this.requestURL(g),f.data);f=c.extend(c.extend({type:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8"},f),{url:e});c.ajax(f);},postService:function(g,e){var f=c("<form />");f.hide();f.attr("method","POST");f.attr("action",a(this.requestURL(g),e));c.each(e,function(i,h){c("<input type='hidden' />").attr("name",i).attr("value",h).appendTo(f);});c(document.body).append(f);f.submit();f.remove();},forwardService:function(f,e){b.location.href=this.requestURL(f,e);},getFile:function(e,f){f=c.extend({multiple:false,accept:"*/*"},f);c("input[type='file'][jgmodule-common-file-input]").remove();fileInput_=c("<input type='file' jgmodule-common-file-input style='display:none;'/>");c(document.body).append(fileInput_);fileInput_.attr("multiple",f.multiple);fileInput_.attr("accept",f.accept);fileInput_.change(function(){e(this);});fileInput_.click();return fileInput_;},sendMultipart:function(f,l,o,h){o=c.extend({async:false},o);l=c.extend({},l);var j=a(this.requestURL(f),l);var g=new FormData();for(var n in l){g.append(n,l[n]);}if(isNull(h)){var i=this;this.getFile(function(p){i.sendMultipart(f,l,o,p);},o);return;}else{var e=0;if(h.length===undefined){h=c(h);}var m=h.length;for(var k=0;k<m;++k){c.each(h[k].files,function(q,p){g.append("file-"+e,p);++e;});}}o=c.extend(o,{type:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",url:j,data:g,cache:false,contentType:false,processData:false,async:true,success:function(p){if(p.result===0){if(!isNull(o.success)){o.success(p.message);}}else{if(!isNull(o.fail)){o.fail(p.result,p.message);}}},error:function(q,r,p){if(!isNull(o.error)){o.error(reponse_,r,p);}}});c.ajax(o);},cookie:function(k,f,j){if(f===undefined){k=k+"=";var e=document.cookie;var i=e.indexOf(k);if(i!==-1){i+=k.length;var l=e.indexOf(";",i);if(l===-1){l=e.length;}return unescape(e.substring(i,l));}return null;}if(f===null){this.removeCookie(k);return;}var h=k+"="+escape(f)+";path=/;";var g=new Date();if(typeof j==="string"){g=new Date(j);}else{if(typeof j==="number"){g.setDate(g.getDate()+g);}}h+="expires="+g.toGMTString()+";";document.cookie=h;},removeCookie:function(e){document.cookie=(e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/;");},_mobileCheckMetaData:{android:function(){return navigator.userAgent.match(/Android/i);},blackberry:function(){return navigator.userAgent.match(/BlackBerry/i);},ios:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i);},opera:function(){return navigator.userAgent.match(/Opera Mini/i);},windows:function(){return navigator.userAgent.match(/IEMobile/i);},any:function(){return(this._mobileCheckMetaData.android()||this._mobileCheckMetaData.blackberry()||this._mobileCheckMetaData.ios()||this._mobileCheckMetaData.opera()||this._mobileCheckMetaData.windows());}},checkMobile:function(e){return this._mobileCheckMetaData[NVL(platform_,"any").toLowerCase()];}};return d;})(window,$);