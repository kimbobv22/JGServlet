(function(b,c){if(c===undefined){console.error("can't not initialize JGService, JQuery not found");return;}if(JGDataset===undefined){console.error("can't not initialize JGService, JGDataset not found");return;}function a(e,f){if(!isNull(f)){var g=c.extend(true,f);for(var h in g){var i=new RegExp("\\{"+h+"\\}");if(i.test(e)){e=e.replace(i,f[h]);delete f[h];}}}return e;}var d=b.JGService={_requestURLs:{},requestURL:function(g,f){if(c.type(g)==="string"&&c.type(f)==="string"){this._requestURLs[g]=f;return this._requestURLs[g];}var e=a(this._requestURLs[g],f);if(!isNull(f)){e+=(e.indexOf("?")<0?"?":"&")+c.param(f);}return e;},ajax:function(g,f){var e=a(this.requestURL(g),f.data);f=c.extend(c.extend({type:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8"},f),{url:e});c.ajax(f);},postService:function(g,e){var f=c("<form />");f.hide();f.attr("method","POST");f.attr("action",a(this.requestURL(g),e));c.each(e,function(i,h){c("<input type='hidden' />").attr("name",i).attr("value",h).appendTo(f);});c(document.body).append(f);f.submit();f.remove();},forwardService:function(f,e){b.location.href=this.requestURL(f,e);},getFile:function(e,f){f=c.extend({multiple:false,accept:"*/*"},f);c("input[type='file'][jgmodule-common-file-input]").remove();fileInput_=c("<input type='file' jgmodule-common-file-input style='display:none;'/>");c(document.body).append(fileInput_);fileInput_.attr("multiple",f.multiple);fileInput_.attr("accept",f.accept);fileInput_.change(function(){e(this);});fileInput_.click();return fileInput_;},sendMultipart:function(f,m,r,i){r=c.extend({async:false},r);m=c.extend({},m);var k=a(this.requestURL(f),m);var g=new FormData();for(var o in m){g.append(o,m[o]);}if(isNull(i)){var j=this;this.getFile(function(s){j.sendMultipart(f,m,r,s);},r);return;}else{var e=0;if(i.length===undefined){i=c(i);}var n=i.length;for(var l=0;l<n;++l){c.each(i[l].files,function(t,s){g.append("file-"+e,s);++e;});}}var h=r.success;var q=r.fail;var p=r.error;r=c.extend(r,{type:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",url:k,data:g,cache:false,contentType:false,processData:false,async:true,success:function(s){if(s.result===0){if(!isNull(h)){h(s.message);}}else{if(!isNull(q)){q(s.result,s.message);}}},error:function(t,u,s){if(!isNull(p)){p(reponse_,u,s);}}});c.ajax(r);},cookie:function(k,f,j){if(f===undefined){k=k+"=";var e=document.cookie;var i=e.indexOf(k);if(i!==-1){i+=k.length;var l=e.indexOf(";",i);if(l===-1){l=e.length;}return unescape(e.substring(i,l));}return null;}if(f===null){this.removeCookie(k);return;}var h=k+"="+escape(f)+";path=/;";var g=new Date();if(typeof j==="string"){g=new Date(j);}else{if(typeof j==="number"){g.setDate(g.getDate()+g);}}h+="expires="+g.toGMTString()+";";document.cookie=h;},removeCookie:function(e){document.cookie=(e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/;");},_mobileCheckMetaData:{android:function(){return navigator.userAgent.match(/Android/i);},blackberry:function(){return navigator.userAgent.match(/BlackBerry/i);},ios:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i);},opera:function(){return navigator.userAgent.match(/Opera Mini/i);},windows:function(){return navigator.userAgent.match(/IEMobile/i);},any:function(){return(this._mobileCheckMetaData.android()||this._mobileCheckMetaData.blackberry()||this._mobileCheckMetaData.ios()||this._mobileCheckMetaData.opera()||this._mobileCheckMetaData.windows());}},checkMobile:function(e){return this._mobileCheckMetaData[NVL(platform_,"any").toLowerCase()];}};return d;})(window,$);